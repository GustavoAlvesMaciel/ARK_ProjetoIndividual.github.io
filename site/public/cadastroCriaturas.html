<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Espécie</title>
  <style>
    label {
      display: block;
      margin-bottom: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table, th, td {
      border: 1px solid #ddd;
    }

    th, td {
      padding: 10px;
      text-align: left;
    }
  </style>
</head>
<body>

  <h2>Cadastro de Espécie</h2>
  <form id="cadastroForm">

    <label for="especie">Espécie:</label>
    <input type="text" id="especie" name="especie" required>

    <fieldset>
      <legend>Tipo de Farm:</legend>
      <label><input type="checkbox" name="tipoFarm" value="carne"> Carne e Derivados</label>
      <label><input type="checkbox" name="tipoFarm" value="frutos"> Frutos e Derivados</label>
      <label><input type="checkbox" name="tipoFarm" value="madeiras"> Madeiras</label>
      <label><input type="checkbox" name="tipoFarm" value="minerais"> Minerais</label>
    </fieldset>

    <label for="dieta">Dieta:</label>
    <select id="dieta" name="dieta" required>
      <option value="carnivora">Carnívora</option>
      <option value="herbivora">Herbívora</option>
      <option value="onivora">Onívora</option>
    </select>

    <label for="imagem">Inserir Imagem:</label>
    <input type="file" id="imagem" name="imagem">

    <button type="button" onclick="cadastrar()">Cadastrar</button>

  </form>

  <h2>Cadastros Realizados</h2>
  <table id="tabelaCadastros">
    <thead>
      <tr>
        <th>Espécie</th>
        <th>Tipo de Farm</th>
        <th>Dieta</th>
        <th>Imagem</th>
      </tr>
    </thead>
    <tbody>
      <!-- Os cadastros serão adicionados aqui dinamicamente -->
    </tbody>
  </table>

  <script>
    var cadastros = [];

    function cadastrar() {
      var especie = document.getElementById('especie').value;
      
      // Obter os valores selecionados nos checkboxes "Tipo de Farm"
      var tipoFarmCheckboxes = document.getElementsByName('tipoFarm');
      var tipoFarm = [];
      for (var i = 0; i < tipoFarmCheckboxes.length; i++) {
        if (tipoFarmCheckboxes[i].checked) {
          tipoFarm.push(tipoFarmCheckboxes[i].value);
        }
      }
      
      var dieta = document.getElementById('dieta').value;
      var imagem = document.getElementById('imagem').value; // Obter o valor do campo de imagem

      // Criar um objeto com os dados
      var cadastro = {
        especie: especie,
        tipoFarm: tipoFarm.join(', '), // Converter o array em uma string separada por vírgula
        dieta: dieta,
        imagem: imagem
      };

      // Adicionar o cadastro ao array
      cadastros.push(cadastro);

      // Exibir os valores no console (pode ser substituído pelo envio para um servidor, por exemplo)
      console.log('Cadastro realizado:', cadastro);

      // Atualizar a tabela de cadastros
      atualizarTabelaCadastros();
    }

    function atualizarTabelaCadastros() {
      var tabelaCadastros = document.getElementById('tabelaCadastros');
      var tbody = tabelaCadastros.getElementsByTagName('tbody')[0];

      // Limpar o conteúdo da tabela
      tbody.innerHTML = '';

      // Adicionar os cadastros à tabela
      for (var i = 0; i < cadastros.length; i++) {
        var cadastro = cadastros[i];

        var row = tbody.insertRow(i);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);

        cell1.innerHTML = cadastro.especie;
        cell2.innerHTML = cadastro.tipoFarm;
        cell3.innerHTML = cadastro.dieta;
        cell4.innerHTML = '<img src="' + cadastro.imagem + '" alt="Imagem">';
      }
    }
  </script>

</body>
</html>
